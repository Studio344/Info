# UCFitness開発秘話: Fitbit APIの「制限」との戦い

自作のフィットネストラッカー「UCFitness」を作っているとき、<br>
一番の壁だったのが **Fitbit APIのRate Limit（利用制限）** でした。

「1ユーザーあたり1時間150リクエストまで」という制限があるんですが、<br>
リアルタイムにデータを更新したいアプリとしては、<br>
これが結構厳しいんですよね...。

そこで今回は、**Next.jsのAPI Routes** と **Supabase** を<br>
組み合わせて乗り越えました！<br>
具体的には、ユーザーがアクセスするたびにAPIを叩くのではなく、<br>
バックグラウンドでデータをまとめて取得（バッチ処理）して、<br>
Supabaseにキャッシュしておく、というアーキテクチャにしました。

おかげで、フロントエンドから無駄なリクエストを飛ばさずに済むようになり、<br>
ランキング表示も爆速になりました！<br>
工夫次第でなんとかなるものですね。
